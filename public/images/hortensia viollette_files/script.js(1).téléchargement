(function(a,b,c){var d,e=a.getElementsByTagName(b)[0];return a.getElementById(c)?void setTimeout(function(){window.StockifyAsync()},1e3):void(d=a.createElement(b),d.id=c,d.src="https://connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e),d.onload=function(){window.StockifyAsync()})})(document,"script","facebook-jssdk"),window.StockifyAsync=window.StockifyAsync||function(){'use strict';window.Stockify={stockify_server:"https://stockify.teathemes.net/webhook/confirm",stockify_email_server:"https://stockify.teathemes.net/webhook/email",sweet_js:"https://unpkg.com/sweetalert2@7.12.17/dist/sweetalert2.all.js",manifest:"/tools/service-worker/manifest.json",ADD_TO_CART_FORM:"form[action*='/cart/add']:not(:hidden):not(.no-stockify):first",current_location:window.location.href,currentVariantId:void 0,serviceWorker:"/tools/service-worker/sw.js",page_id:$("#stockify-comfirmation").data("page_id"),inline_stockify:$(".stockify-block-actions").hasClass("inline-stockify"),appId:"1707801545944192",StockifyId:null,isPushEnabled:!1,changedLocationVariant:!1},window.history.replaceState=function(c){return function(){var a=c.apply(this,arguments);return window.Stockify.refreshQueryParams(),window.Stockify.StockifyqueryParams.variant&&Stockify.onVariantListener(),a}}(window.history.replaceState),window.history.pushState=function(c){return function(){var a=c.apply(this,arguments);return window.Stockify.refreshQueryParams(),window.Stockify.StockifyqueryParams.variant&&Stockify.onVariantListener(),a}}(window.history.pushState),"function"!=typeof Sweetalert2&&$("head").append("<script src=\""+Stockify.sweet_js+"\"></script>"),document.getElementById("stockify-block-webpush")&&$("head").prepend("<link rel=\"manifest\" href=\""+Stockify.manifest+"\">"),$("head").append("<link rel=\"stylesheet\" href=\"https://cdn.shopify.com/s/files/1/1514/3488/t/4/assets/stockify.scss.css\" />"),Stockify.StockifyqueryParams={},Stockify.refreshQueryParams=function(){if(Stockify.StockifyqueryParams={},location.search.length)for(var a,b=0,c=location.search.substr(1).split("&");b<c.length;b++)a=c[b].split("="),1<a.length&&(Stockify.StockifyqueryParams[decodeURIComponent(a[0])]=decodeURIComponent(a[1]))},Stockify.autoEmbed=function(){$(".stockify-block-actions").length||($(Stockify.ADD_TO_CART_FORM).after($("#stockify-template-actions").html()),$(".inline-stockify").hide(),Stockify.inline_stockify=$(".stockify-block-actions").hasClass("inline-stockify"),$(this.ADD_TO_CART_FORM+" select[name='id']:hidden option").removeAttr("disabled")),Stockify.inline_stockify&&(console.log("Append"),jQuery("#stockify-comfirmation").appendTo(".stockify-block-actions"))},(window.location.href.match("/products/")||window.location.href.match("/products_preview"))&&Stockify.autoEmbed(),Stockify.refreshQueryParams(),Stockify.StockifyqueryParams.variant&&(Stockify.currentVariantId=Stockify.StockifyqueryParams.variant),Stockify.htmlDecode=function(a){var b=document.createElement("div");return b.innerHTML=a,0===b.childNodes.length?"":b.childNodes[0].nodeValue.replace(/\"=>\"/g,"\":\"")};var a=document.getElementById("stockify-json-translation")?JSON.parse(Stockify.htmlDecode(document.getElementById("stockify-json-translation").innerHTML)):{};Stockify.showProcessing=function(){Sweetalert2({title:Stockify.getTranslation("processing","Processing !"),text:Stockify.getTranslation("wait","Please wait ..."),allowEscapeKey:!1,onOpen:function(){Sweetalert2.showLoading()}})},Stockify.selectOptionValues=function(){return $(this.ADD_TO_CART_FORM+" select").toArray().filter(function(){return function(a){return!$(a).is(":hidden")}}()).map(function(){return function(a){return $(a).val()}}())},Stockify.isRadioButtons=function(){return 0<$(this.ADD_TO_CART_FORM+" [type='radio']").length},Stockify.selectCheckedRadio=function(){return $(this.ADD_TO_CART_FORM+" [type='radio']:checked").toArray().map(function(){return function(a){return $(a).val()}}())},Stockify.titleFromOptions=function(){var a,b=this.selectOptionValues();return!this.isRadioButtons()&&1>b.length&&$(this.ADD_TO_CART_FORM+" select[name='id']:hidden").length?$(this.ADD_TO_CART_FORM+" select[name='id']:hidden option[value]").length&&$(this.ADD_TO_CART_FORM+" select[name='id']:hidden").val()?Stockify.ProductOptions.product.getVariantById($(this.ADD_TO_CART_FORM+" select[name='id']:hidden").val()).title:"":(a=this.isRadioButtons()?this.selectCheckedRadio():b,1<a.length?a.join(" / "):a[0])},Stockify.isVariantUnvailable=function(){var a;return 1===this.ProductOptions.product.variants.length?!this.ProductOptions.product.variants[0].available:!!this.currentVariantId&&(a=this.ProductOptions.product.getVariantById(this.currentVariantId))&&!a.available},Stockify.getVariantByTitle=function(){if(2>this.ProductOptions.product.variants.length)return this.ProductOptions.product.variants[0].id;var a,b;if(a=this.titleFromOptions(),b=this.ProductOptions.product.variants.filter(function(){return function(b){return b.title===a}}())[0])return b.id},Stockify.changedLocation=function(a){return window.location.href!==a&&(Stockify.changedLocationVariant=!0),window.location.href!==a},Stockify.setVariantId=function(a){return this.changedLocation(a)||Stockify.StockifyqueryParams.variant&&Stockify.changedLocationVariant?(this.refreshQueryParams(),Stockify.current_location=window.location.href,this.currentVariantId=this.StockifyqueryParams.variant):(Stockify.current_location=window.location.href,this.currentVariantId=this.getVariantByTitle())},Stockify.getTranslation=function(b,c){return c=null==c?"":c,"undefined"==typeof a[b]?c:a[b]},Stockify.initMessengerCheckbox=function(){return jQuery("#stockify-fb-messenger-checkbox iframe").length||!Stockify.inline_stockify?0:void(FB.init({appId:Stockify.appId,autoLogAppEvents:!0,xfbml:!0,version:"v2.11"}),console.log("FB"),FB.Event.subscribe("messenger_checkbox",function(a){"rendered"==a.event?console.log("Plugin was rendered"):"checkbox"==a.event?(c=a.state,console.log("Checkbox state: "+c)):"not_you"==a.event?console.log("User clicked 'not you'"):"hidden"==a.event&&console.log("Plugin was hidden")}))},Stockify.initBrowserId=function(){this.StockifyId=localStorage.getItem("StockifyId"),(null==this.StockifyId||0>this.StockifyId.indexOf("STOCKIFY"))&&(this.StockifyId=(Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,20)+"stockify"+Date.now()).toUpperCase(),localStorage.setItem("StockifyId",this.StockifyId))};var b,c,d=document.getElementById("stockify-fb-messenger-checkbox"),e=(Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,20)+Date.now()).toUpperCase();d&&d.setAttribute("user_ref",e),Stockify.initBrowserId();$(".stockify-block-actions");Stockify.stockifyCallback=function(a){a?(Stockify.currentVariantId=a.id,b=Stockify.ProductOptions.product.id):(Stockify.currentVariantId=void 0,b=void 0)};var f=$("#stockify-json-data").html()||null;if(f){var g=JSON.parse(f);if(g.tags&&0<=g.tags.indexOf("no-stockify"))return $(".stockify-block-actions,#stockify-comfirmation").hide(),1;Stockify.ProductOptions=new Shopify.OptionSelectors("stockify-variants",{product:g,onVariantSelected:Stockify.stockifyCallback,enableHistoryState:0})}jQuery("body").on("click",".stockify-block-actions > a ",function(){var a=$(this),b=a.data("type");$(".stockify-submit").data("type",b),$(a.data("target")).toggleClass("active"),"messenger"==b?($("#stockify-comfirmation").addClass("stockify-show-messenger").removeClass("stockify-show-email"),!$("#stockify-comfirmation").hasClass("fb-loaded")&&!Stockify.inline_stockify&&($("#stockify-comfirmation").addClass("fb-loaded"),FB.init({appId:Stockify.appId,autoLogAppEvents:!0,xfbml:!0,version:"v2.11"}),console.log("FB"),FB.Event.subscribe("messenger_checkbox",function(a){console.log(a),"rendered"==a.event?console.log("Plugin was rendered"):"checkbox"==a.event?(c=a.state,console.log("Checkbox state: "+c)):"not_you"==a.event?console.log("User clicked 'not you'"):"hidden"==a.event&&console.log("Plugin was hidden")}))):"email"==b&&$("#stockify-comfirmation").removeClass("stockify-show-messenger").addClass("stockify-show-email"),Stockify.currentVariantId!=null&&Stockify.ProductOptions.selectVariant(Stockify.currentVariantId)}),$("body").on("click",".stockify-lightbox__close-btn",function(){$(this).closest(".stockify-lightbox").toggleClass("active")});$(".stockify-block-actions");Stockify.onChangeVariant=function(){$("body").on("change",Stockify.ADD_TO_CART_FORM,function(){setTimeout(function(){Stockify.onVariantListener()},500)})},Stockify.onVariantListener=function(){return Stockify.refreshQueryParams(),Stockify.setVariantId(Stockify.current_location),Stockify.isVariantUnvailable()?$(".stockify-block-actions,#stockify-comfirmation").show()&&Stockify.initMessengerCheckbox():$(".stockify-block-actions,#stockify-comfirmation").hide()},Stockify.StockifyListener=function(){$(document).on("stockify","body",function(a,b){a.preventDefault(),b?(Stockify.currentVariantId=b.id,Stockify.ProductOptions.selectVariant(Stockify.currentVariantId)):Stockify.currentVariantId=void 0})},Stockify.StockifyListener(),Stockify.submitMessenger=function(a,c,d){FB.AppEvents.logEvent("MessengerCheckboxUserConfirmation",null,{app_id:Stockify.appId,page_id:Stockify.page_id,ref:JSON.stringify({product_id:b,variant_id:Stockify.currentVariantId,shop:Shopify.shop,date:c,quantity:a,id:Stockify.StockifyId}),user_ref:e}),setTimeout(function(){$.post(Stockify.stockify_server,{user_ref:e,id:Stockify.StockifyId,product_id:b,variant_id:Stockify.currentVariantId},function(a){d(a)})},2e3)},Stockify.submitEmail=function(a,c,d){if($("#stockify-comfirmation [name=\"email\"]").length){var e=$("#stockify-comfirmation [name=\"email\"]").val(),f=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return e.match(f)?void $.post(Stockify.stockify_email_server,{product_id:b,variant_id:Stockify.currentVariantId,shop:Shopify.shop,email:e,date:c,quantity:a},function(a){d(a)}):void Sweetalert2({type:"error",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("email","Please fill your isvaild email!"),showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}})}},Stockify.submitWebPush=function(a,c,d){$.ajax({url:"https://stockify.teathemes.net/webhook/notifications",type:"post",dateType:"JSON",data:{web_push:JSON.parse(localStorage.getItem("STOCKIFY_PN")),product_id:b,variant_id:Stockify.currentVariantId,shop:Shopify.shop,date:c,quantity:a,id:Stockify.StockifyId},success:function(a){d(a)},error:function(){Sweetalert2({type:"error",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("error","An error has occoured"),showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}})}})},Stockify.initialiseState=function(){var a=document.querySelector(".js-push-button");return"showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(console.warn("The user has blocked notifications."),void(a=!0)):"PushManager"in window?void navigator.serviceWorker.ready.then(function(a){a.pushManager.getSubscription().then(function(a){var b=document.querySelector(".js-push-button");b.disabled=!1;a&&(Stockify.sendSubscriptionToServer(a),$(".switch-label").text("Disable Push Notifications"),Stockify.isPushEnabled=!0)}).catch(function(a){console.warn("Error during getSubscription()",a)})}).catch(function(a){console.log(a)}):(console.warn("Push messaging isn't supported."),void(a=!0)):(console.warn("Notifications aren't supported."),void(a=!0))},Stockify.subscribe=function(){var a=document.querySelector(".js-push-button");a.disabled=!0,navigator.serviceWorker.ready.then(function(b){b.pushManager.subscribe({userVisibleOnly:!0}).then(function(b){return Stockify.isPushEnabled=!0,$(".switch-label").text("Disable Push Notifications"),a.checked=!0,a.disabled=!1,Stockify.sendSubscriptionToServer(b)}).catch(function(b){"denied"===Notification.permission?(console.warn("Permission for Notifications was denied"),Sweetalert2({type:"error",title:"Oops...",text:Stockify.getTranslation("permission_denied","Permission for Notifications was denied")}),a.disabled=!0):(console.error("Unable to subscribe to push.",b),Sweetalert2({type:"error",title:"Oops...",text:Stockify.getTranslation("unable_to_subscribe","Unable to subscribe to push.")}),a.disabled=!1,$(".switch-label").text(Stockify.getTranslation("enable_webpush","Enable Push Notifications")),a.checked=!1,$("#formPushNofitication").hide())})})},Stockify.unsubscribe=function(){var a=document.querySelector(".js-push-button");a.disabled=!0,navigator.serviceWorker.ready.then(function(b){b.pushManager.getSubscription().then(function(b){if(!b)return Stockify.isPushEnabled=!1,a.disabled=!1,$(".switch-label").text(Stockify.getTranslation("enable_webpush","Enable Push Notifications")),void(a.checked=!1);console.log(b);b.subscriptionId;b.unsubscribe().then(function(){a.disabled=!1,$(".switch-label").text(Stockify.getTranslation("enable_webpush","Enable Push Notifications")),a.checked=!1,Stockify.isPushEnabled=!1}).catch(function(b){console.log("Unsubscription error: ",b),a.disabled=!1,$(".switch-label").text(Stockify.getTranslation("enable_webpush","Enable Push Notifications")),a.checked=!1})}).catch(function(a){console.error("Error thrown while unsubscribing from push messaging.",a)})})},Stockify.sendSubscriptionToServer=function(a){localStorage.setItem("STOCKIFY_PN",JSON.stringify(a))},Stockify.webPush=function(){if($(".js-push-button").on("click",function(){if(Stockify.isPushEnabled){var a=document.querySelector(".js-push-button");a.checked?$(".switch-label").text(Stockify.getTranslation("enable_webpush","Enable Push Notifications")):$(".switch-label").text(Stockify.getTranslation("enable_webpush","Enable Push Notifications"))}else Stockify.subscribe()}),!("serviceWorker"in navigator))$("#stockify-block-webpush").hide(),console.warn("Service workers aren't supported in this browser.");else if(navigator.serviceWorker.register(Stockify.serviceWorker,{scope:"./"}).then(function(){Stockify.initialiseState()}).catch(function(a){console.log(a)}),"standalone"in window.navigator&&window.navigator.standalone){var a;document.addEventListener("click",function(b){for(a=b.target;"A"!==a.nodeName&&"HTML"!==a.nodeName;)a=a.parentNode;"href"in a&&-1!==a.href.indexOf("http")&&(-1!==a.href.indexOf(document.location.host)||!1)&&(b.preventDefault(),document.location.href=a.href)},!1)}},Stockify.onChangeVariant(),setTimeout(function(){$(Stockify.ADD_TO_CART_FORM).trigger("change"),document.getElementById("stockify-block-webpush")&&Stockify.webPush()},1200),$("body").on("click",".stockify-submit",function(a){a.preventDefault();var b=$(this);Stockify.showProcessing();var e=parseInt($("#stockify-comfirmation [name=\"quantity\"]").val()),f=$("#stockify-comfirmation [name=\"out_of_date\"]").val();if(isNaN(e)||1>e)return void Sweetalert2({type:"error",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("quantity_alert","Quantity invaild!"),showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}});var g=new Date(f),d=new Date;if(f&&g<=d)return void Sweetalert2({type:"error",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("date_alert","Date must greater than today."),showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}});var h=Stockify.ProductOptions.product.getVariantById(Stockify.currentVariantId);if(null!=h&&(h.available||"continue"==h.inventory_policy||e<=h.inventory_quantity))return void Sweetalert2({type:"warning",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("product_alert","Product now still available."),showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}});if(Stockify.inline_stockify){var i="",j=document.querySelector(".js-push-button");if($("#stockify-comfirmation [name=\"email\"]").length){i=$("#stockify-comfirmation [name=\"email\"]").val();var k=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;if("checked"!==c&&!i.match(k)&&(j&&!0==!j.checked||!Stockify.isPushEnabled))return Sweetalert2({type:"warning",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("messenger_email_alert","Please fill your email or check to messenger checkbox"),showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}}),0}var l=[];if(""!=i&&l.push("submitEmail"),"checked"===c&&l.push("submitMessenger"),j&&!0==j.checked&&Stockify.isPushEnabled&&l.push("submitWebPush"),l.length){function a(){var b=l.pop();Stockify[b](e,f,function(c){"error"==c.status?Sweetalert2({type:"error",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation(c.message,"")+m[b],showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}}):"success"==c.status?Sweetalert2({type:"success",title:Stockify.getTranslation("congratulations","Confgrats!"),text:Stockify.getTranslation(c.message,"")+m[b],showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}}):Sweetalert2({type:"error",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("error","An error has occoured")+m[b],showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}}),l.length&&setTimeout(a,3e3)})}var m={submitEmail:Stockify.getTranslation("platform_email"," (Email)"),submitMessenger:Stockify.getTranslation("platform_email"," (Messenger)"),submitWebPush:Stockify.getTranslation("platform_email"," (Webpush)")};a()}else Sweetalert2({type:"warning",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("messenger_email_alert","Please fill your email or check to messenger checkbox"),showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}});return 0}"messenger"==b.data("type")&&Stockify.page_id?"checked"===c?Stockify.submitMessenger(e,f):Sweetalert2({type:"warning",title:Stockify.getTranslation("warning","Warning!"),text:Stockify.getTranslation("messenger_alert","Please check to messenger"),showConfirmButton:!1,onOpen:function(){Sweetalert2.hideLoading()}}):"email"==b.data("type")&&Stockify.submitEmail(e,f)})};